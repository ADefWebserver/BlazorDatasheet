@using BlazorDatasheet.Edit
@using BlazorDatasheet.Util
@using BlazorDatasheet.Core.Interfaces
@using BlazorDatasheet.Core.Data
@using BlazorDatasheet.Core.Edit
@inherits BaseEditor

<input type="text"
       class="date-input"
       @bind="CurrentTime"
       @bind:event="oninput"
       style="@Style; width: 100%;"
       @ref="InputRef" />

@code {

    private IReadOnlyCell Cell { get; set; }

    private string? CurrentTime
    {
        get
        {
            return CurrentValue;
        }
        set
        {
            this.OnValueChanged.InvokeAsync(value?.ToString());
        }
    }

    public override void BeforeEdit(IReadOnlyCell cell, Sheet sheet)
    {
        Cell = cell;
    }

    public override void BeginEdit(EditEntryMode entryMode, string? editValue, string key)
    {
        /*var canParse = DateTime.TryParse(editValue?.ToString(), out var parsedDateTime);
            if (canParse)
            {
                CurrentDateTime = parsedDateTime;
            }
            else
            {
                CurrentDateTime = DateTime.Now;
            }*/
    }

}