@using System.Globalization
@inherits BaseRenderer

<div style="color: @(ValidationError ? "red" : "black")">@FormattedNumber</div>

@code {
    private bool ValidationError => !Double.TryParse(this.Value, out double res);

    private string FormattedNumber
    {
        get
        {
            if (Double.TryParse(this.Value, out double res))
            {
                if (String.IsNullOrEmpty(StringFormat))
                    return res.ToString(CultureInfo.CurrentCulture);
                else
                    return res.ToString(StringFormat, CultureInfo.CurrentCulture);
            }

            return this.Value;
        }
    }

}